<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/css/bootstrap.min.css" rel="stylesheet">
    <title>Login</title>
</head>

<body class="bg-light d-flex align-items-center justify-content-center" style="height: 100vh;">

    <div class="card shadow p-4" style="max-width: 400px; width: 100%;">
        <h4 class="text-center mb-4">Sign In</h4>
        <form>
            <!-- Email input -->
            <div class="form-outline mb-3">
                <label class="form-label" for="email">Email address</label>
                <input type="email" id="email" class="form-control" placeholder="Enter a valid email address" />
            </div>

            <!-- Password input -->
            <div class="form-outline mb-3">
                <label class="form-label" for="password">Password</label>
                <input type="password" id="password" class="form-control" placeholder="Enter password" />
            </div>

            <!-- Checkbox -->
            <div class="form-check mb-3">
                <input class="form-check-input" type="checkbox" id="form2Example3" />
                <label class="form-check-label" for="form2Example3"> Remember me </label>
            </div>

            <button type="button" class="btn btn-primary w-100 mb-2" onclick="login()">Login</button>
            <p class="text-center small">Don't have an account? <a href="register.html" class="link-danger">Register</a>
            </p>
        </form>
    </div>
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
        import { getAnalytics } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-analytics.js";
        import { getAuth, signInWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";

        const firebaseConfig = {
            apiKey: "AIzaSyC4arTVTvyvvavf777znj5hbAove1WkCak",
            authDomain: "iaas-51160.firebaseapp.com",
            projectId: "iaas-51160",
            storageBucket: "iaas-51160.firebasestorage.app",
            messagingSenderId: "319878274724",
            appId: "1:319878274724:web:f9ff4d659c14a41fcc9031",
            measurementId: "G-PQGHEJ9FG3"
        };

        const app = initializeApp(firebaseConfig);
        const analytics = getAnalytics(app);
        const auth = getAuth(app);

        window.login = async function () {
            const email = document.getElementById("email").value;
            const password = document.getElementById("password").value;

            try {
                const userCredential = await signInWithEmailAndPassword(auth, email, password);
                alert("Login successful!");
                // Ganti ini dengan dashboard atau halaman lain
                window.location.href = "index.html";
            } catch (error) {
                alert("Login failed: " + error.message);
            }
        };
    </script>

</body>

</html>
